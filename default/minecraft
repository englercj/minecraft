#!/usr/bin/env bash
## Settings for spigot control scripts

# Paths
# ===============================

# Directory where the control scripts can be found (the `scripts/` dir from repo).
SCRIPTS_PATH="/etc/minecraft"

# Path of server binary and world
SERVER_PATH="/home/minecraft/server"

# Where world backups go to live
WORLD_BACKUP_PATH="/home/minecraft/backups/worlds"

# Where server backups go to live
SERVER_BACKUP_PATH="/home/minecraft/backups/server"

# This is the directory that logs will be "rolled" into
LOG_BACKUP_PATH="/home/minecraft/backups/logs"

# Path to the log so it can be rolled
LOG_PATH="$SERVER_PATH/logs/latest.log"

# Location of the worlds
WORLDS_PATH="$SERVER_PATH/worlds"

# Path to your ramdisk, usually doesn't need to be changed
RAMDISK_PATH="/dev/shm"

# This is the path to build Spigot in
BUILD_PATH="/home/minecraft/build"

# URLs
# ===============================

# This the URL to check for updates with
URL_CONSOLE_TEXT="https://hub.spigotmc.org/jenkins/job/BuildTools/lastStableBuild/consoleText"

# URL of server executable for update checking
URL_BUILD_TOOLS="https://hub.spigotmc.org/jenkins/job/BuildTools/lastStableBuild/artifact/target/BuildTools.jar"

# Invokation/Update settings
# ===============================

# Filename of server binary
SERVICE="spigot.jar"

# Username of non-root user who will run the server
USERNAME="minecraft"

# Number of CPU cores to thread across if using multithreaded garbage collection
CPU_COUNT="2"

# How many days worth of backups to keep (default 7)
BACKUPS_TO_KEEP="5"

# Name of Screen session that runs the server
SCREEN="minecraft"

## The Java command to run the server, uncomment one INVOCATION line only!

# Nothing special, just start the server with 1Gb RAM
# INVOCATION="java -Xms1G -Xmx1G -Djava.net.preferIPv4Stack=true -jar $SERVICE nogui"
INVOCATION="java -Xms1G -Xmx2G -XX:+UseLargePages -XX:+AggressiveOpts -XX:+UseFastAccessorMethods -XX:+OptimizeStringConcat -XX:+UseBiasedLocking -Xincgc -XX:MaxGCPauseMillis=10 -XX:SoftRefLRUPolicyMSPerMB=10000 -XX:+CMSParallelRemarkEnabled -XX:ParallelGCThreads=10 -Djava.net.preferIPv4Stack=true -jar $SERVICE nogui"

# Backup Settings
# ===============================

# Format for the backup, can be "tar" or "zip"
BACKUP_FORMAT="tar"

# Normally backups will be put in a subfolder to $BACKUP_PATH with todays date
# and the backups themselves will have a timestamp.
#
# But if BACKUP_SCRIPT_COMPATIBLE is set the world backups will be put directly
# in $BACKUP_PATH without timestamp to be compatible with
# [backup rotation script](https://github.com/adamfeuer/rotate-backups)
#
BACKUP_SCRIPT_COMPATIBLE=true

# If WORLD_EDIT_COMPATIBLE is set the world backups will be created compatible to WorldEdit
# in $BACKUP_PATH as WORLD_NAME/DATE.(tar.bz2|zip) with the requested directory structure
#
WORLD_EDIT_COMPATIBLE=false

# Compress the whole backup with bzip2?
# Note that this may not save a lot of disk space since there can be a lot of files
# in your server directory, that are already compressed, but it can slow down the
# backup a bit. This highly depends on the plugins you're using.
#
# For example: The png files generated by Dynmap are already compressed and still use
# a lot of space in your server directory, so the compression ratio of the compressed
# backup will not be very high.
COMPRESS_SERVER_BACKUP=true

#  Log Rolling Settings
# ===============================

# Whether or not to gzip logs
#
GZIPLOGS=true

# What to prepend to the logfile name (Leave blank for nothing)
LOG_NAME_PREPEND="logfile_"

# Settings for overviewer command
# ===============================